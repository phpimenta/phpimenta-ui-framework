"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Tab=function(){function t(){_classCallCheck(this,t),this.hideTabContent();var e=document.querySelectorAll(".phpimenta-ui-tabs"),i=this;e.forEach(function(e){var a=Array.from(e.children);a.forEach(function(t){var e=t.children[0],n=e.getAttribute("href"),r=document.querySelector(n);e.addEventListener("click",function(e){e.preventDefault(),i.removeActiveClassFromItems(a),i.hideTabContent(a),t.classList.add("active"),r.style.display="block"}),t.classList.toString().match(/active/i)&&(r.style.display="block")})})}return _createClass(t,[{key:"removeActiveClassFromItems",value:function(e){e.forEach(function(e){e.classList.remove("active")})}},{key:"hideTabContent",value:function(e){e?e.forEach(function(e){var t=e.children[0].getAttribute("href");document.querySelector(t).style.display="none"}):document.querySelectorAll(".phpimenta-ui-tab-content").forEach(function(e){Array.from(e.children).forEach(function(e){document.getElementById(e.id).style.display="none"})})}}]),t}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}new Tab;var Dropdown=function(){function e(){_classCallCheck(this,e),this.counter=0}return _createClass(e,[{key:"enable",value:function(){var r=this;window.addEventListener("click",function(e){-1==e.target.classList.value.split(" ").indexOf("dropdown-toggle")&&r.hideContent()}),document.querySelectorAll(".phpimenta-ui-dropdown").forEach(function(e){Array.from(e.children).forEach(function(e){e.classList.toString().split("dropdown-toggle")&&e.addEventListener("click",function(e){e.preventDefault(),r.hideContent(e.target.dataset.index);var t=r.getContent(e.target),n=window.getComputedStyle(t).getPropertyValue("display");null==e.target.dataset.index&&(e.target.dataset.index=r.counter,t.dataset.index=r.counter,r.counter++),t.style.display="none"==n?"block":"none"})})})}},{key:"getContent",value:function(e){var t=Array.from(e.parentElement.children),n=null;return t.forEach(function(e){e.classList.toString().match(/phpimenta-ui-dropdown-content/i)&&(n=e)}),n}},{key:"hideContent",value:function(t){document.querySelectorAll(".phpimenta-ui-dropdown-content").forEach(function(e){e.dataset.index!=t&&(e.style.display="none")})}}]),e}(),dropdown=new Dropdown;dropdown.enable();var files=document.querySelectorAll(".phpimenta-ui-upload input[type=file]");files.forEach(function(e){e.addEventListener("change",function(e){var t,n=[];Array.from(this.files).forEach(function(e){n.push(" "+e.name)}),Array.from(this.parentElement.children).forEach(function(e){"LABEL"==e.nodeName&&(t=e)}),t.innerHTML=n.toString()})});var modals=document.querySelectorAll(".phpimenta-ui-modal");modals.forEach(function(e,t){for(var n=e.children[0].children[0].children,r=n.length,a=0;a<r;a++){var i=n[a];"btn-close"==i.classList.value&&i.addEventListener("click",function(){window.modal("#"+e.id,"hide")})}});var toggles=document.querySelectorAll("button[data-toggle=modal]");function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}toggles.forEach(function(t){t.addEventListener("click",function(){var e=t.dataset.target;modal(e,"show")})}),window.addEventListener("click",function(e){"phpimenta-ui-modal"==e.target.classList.value&&(e.target.style.display="none")}),window.modal=function(e,t){var n=document.querySelector(e);null!=n&&"show"==t?n.style.display="block":null!=n&&"hide"==t&&(n.style.display="none")};var Datepicker=function(){function e(){_classCallCheck(this,e),this.months=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],this.weekdays=["dom","seg","ter","qua","qui","sex","sáb"],this.date=new Date,this.currentDay=this.date.getDate(),this.currentYear=this.date.getFullYear(),this.currentMonth=this.date.getMonth(),this.dateFormat="dd-mm-yyyy",this._currentInput}return _createClass(e,[{key:"enable",value:function(){this.listener()}},{key:"listener",value:function(){var i=this;function e(e){e.stopImmediatePropagation();var t=e.target.classList;if(t.toString().match(/phpimenta-ui-datepicker-modal/i))i.close();else if(t.toString().match(/phpimenta-ui-datepicker-link/i)){var n=e.target.innerHTML,r=i.convertDate(i.currentYear,i.currentMonth+1,n),a=document.querySelector(i._currentInput);null!=a.value?a.value=r:null!=a.innerHTML&&(a.innerHTML=r),i.close()}else t.toString().match(/phpimenta-ui-datepicker-year-increase-button/i)?(i.currentYear=i.currentYear+1,i.create(i._currentInput)):t.toString().match(/phpimenta-ui-datepicker-year-decrease-button/i)?(i.currentYear=i.currentYear-1,i.create(i._currentInput)):t.toString().match(/phpimenta-ui-datepicker-month-decrease-button/i)?(i.currentMonth=i.currentMonth-1,-1==i.currentMonth&&(i.currentMonth=11,i.currentYear=i.currentYear-1),i.create(i._currentInput)):t.toString().match(/phpimenta-ui-datepicker-month-increase-button/i)&&(i.currentMonth=i.currentMonth+1,12==i.currentMonth&&(i.currentMonth=0,i.currentYear=i.currentYear+1),i.create(i._currentInput))}window.removeEventListener("click",e),window.addEventListener("click",e)}},{key:"convertDate",value:function(e,t,n){return t=t.toString().padStart(2,"0"),n=n.toString().padStart(2,"0"),"dd-mm-yyyy"==this.dateFormat?n+"/"+t+"/"+e:"yyyy-mm-dd"==this.dateFormat?e+"/"+t+"/"+n:void 0}},{key:"create",value:function(e){this._currentInput=e,this.close(),this.createGUI()}},{key:"close",value:function(){document.querySelectorAll(".phpimenta-ui-datepicker-modal").forEach(function(e){e.remove()})}},{key:"daysInMonth",value:function(e,t){return t+=1,new Date(e,t,0).getDate()}},{key:"weekday",value:function(e,t,n){return new Date(e,t,n).getDay()}},{key:"createGUI",value:function(){var e=document.createElement("div");e.className="phpimenta-ui-datepicker-modal-content";var t=document.createElement("table");t.classList="phpimenta-ui-table";var n=document.createElement("caption"),r=document.createElement("div");r.classList="header-month";var a=document.createElement("button");a.innerHTML="&lsaquo;",a.classList="phpimenta-ui-datepicker-month-decrease-button",r.appendChild(a);var i=document.createElement("span");i.innerHTML=this.months[this.currentMonth],r.appendChild(i);var c=document.createElement("button");c.innerHTML="&rsaquo;",c.classList="phpimenta-ui-datepicker-month-increase-button",r.appendChild(c),n.appendChild(r);var o=document.createElement("div"),l=document.createElement("button");l.innerHTML="&lsaquo;",l.classList="phpimenta-ui-datepicker-year-decrease-button",o.appendChild(l);var u=document.createElement("span");u.innerHTML=this.currentYear,o.appendChild(u);var d=document.createElement("button");d.classList="phpimenta-ui-datepicker-year-increase-button",d.innerHTML="&rsaquo;",o.appendChild(d),o.classList="header-year",n.appendChild(o),t.appendChild(n);for(var s=document.createElement("thead"),p=document.createElement("tr"),h=0;h<=6;h++){var m=document.createElement("th");m.innerHTML=this.weekdays[h],p.appendChild(m)}s.appendChild(p),t.appendChild(s);for(var f,y=document.createElement("tbody"),v=0,k=!1,b=this.daysInMonth(this.currentYear,this.currentMonth),g=1;g<=b;g++){if(0==v&&(f=document.createElement("tr")),0==k)if(this.weekday(this.currentYear,this.currentMonth,1)==v){k=!0,g=1;var C=document.createElement("td");C.classList="phpimenta-ui-datepicker-link",1==this.currentDay&&(C.classList="current-date phpimenta-ui-datepicker-link"),C.innerHTML="01",f.appendChild(C),y.appendChild(f)}else{var E=document.createElement("td");f.appendChild(E),y.appendChild(f)}else{var w=document.createElement("td");w.classList="phpimenta-ui-datepicker-link",this.currentDay==g&&(w.classList="current-date phpimenta-ui-datepicker-link"),w.innerHTML=g.toString().padStart(2,"0"),f.appendChild(w),y.appendChild(f)}6==v?v=0:v++}t.appendChild(y),e.appendChild(t);var L=document.createElement("div");L.classList="phpimenta-ui-datepicker-modal",L.appendChild(e),document.querySelector("body").appendChild(L)}}]),e}(),datepicker=new Datepicker;datepicker.enable(),window.phpimenta_datepicker=function(e){datepicker.create(e)};