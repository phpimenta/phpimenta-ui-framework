"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}var modals=document.querySelectorAll(".phpimenta-ui-modal");modals.forEach(function(e,t){for(var a=e.children[0].children[0].children,n=a.length,r=0;r<n;r++){var i=a[r];"btn-close"==i.classList.value&&i.addEventListener("click",function(){window.modal("#"+e.id,"hide")})}});var dropdownTriggers=document.querySelectorAll(".phpimenta-dropdown-trigger");dropdownTriggers.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=document.getElementById(this.dataset.toggle),a=window.getComputedStyle(t).getPropertyValue("display");t.style.display="none"==a?"block":"none"})}),window.addEventListener("click",function(n){"phpimenta-ui-modal"==n.target.classList.value&&(n.target.style.display="none"),dropdownTriggers.forEach(function(e){var t=document.getElementById(e.dataset.toggle),a=window.getComputedStyle(t).getPropertyValue("display");e.dataset.toggle!==n.target.dataset.toggle&&"block"==a&&(console.log(t),t.style.display="none")})});var toggles=document.querySelectorAll("button[data-toggle=modal]");toggles.forEach(function(t){t.addEventListener("click",function(){var e=t.dataset.target;modal(e,"show")})}),window.modal=function(e,t){var a=document.querySelector(e);null!=a&&"show"==t?a.style.display="block":null!=a&&"hide"==t&&(a.style.display="none")};var Datepicker=function(){function e(){_classCallCheck(this,e),this.current_datepicker,this.months=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],this.weekdays=["dom","seg","ter","qua","qui","sex","sáb"],this.date=new Date,this.currentDatepicker,this.currentDay=this.date.getDate(),this.currentYear=this.date.getFullYear(),this.currentMonth=this.date.getMonth()}return _createClass(e,[{key:"enable",value:function(){for(var e=document.querySelectorAll(".phpimenta-ui-datepicker"),t=0;t<e.length;t++){var a=this;e[t].addEventListener("click",function(e){a.currentDatepicker=e.target.dataset.datepickerTarget,a.closeDatepickerModal(),a.createGraphicalInterface()})}a=this;window.addEventListener("click",function(e){"phpimenta-ui-datepicker-modal"==e.target.classList&&a.closeDatepickerModal()}),window.addEventListener("click",function(e){if("phpimenta-ui-datepicker-year-increase-button"==e.target.classList)a.closeDatepickerModal(),a.currentYear=a.currentYear+1,a.createGraphicalInterface();else if("phpimenta-ui-datepicker-year-decrease-button"==e.target.classList)a.closeDatepickerModal(),a.currentYear=a.currentYear-1,a.createGraphicalInterface();else if("phpimenta-ui-datepicker-month-decrease-button"==e.target.classList)a.closeDatepickerModal(),a.currentMonth=a.currentMonth-1,-1==a.currentMonth&&(a.currentMonth=11,a.currentYear=a.currentYear-1),a.createGraphicalInterface();else if("phpimenta-ui-datepicker-month-increase-button"==e.target.classList)a.closeDatepickerModal(),a.currentMonth=a.currentMonth+1,12==a.currentMonth&&(a.currentMonth=0,a.currentYear=a.currentYear+1),a.createGraphicalInterface();else if(e.target.classList.toString().match(/phpimenta-ui-datepicker-link/i)){var t=(a.currentMonth+1).toString().padStart(2,"0");document.querySelector("#"+a.currentDatepicker).value=e.target.innerHTML+"/"+t+"/"+a.currentYear,a.closeDatepickerModal()}})}},{key:"daysInMonth",value:function(e,t){return t+=1,new Date(e,t,0).getDate()}},{key:"weekday",value:function(e,t,a){return new Date(e,t,a).getDay()}},{key:"closeDatepickerModal",value:function(){(modals=document.querySelectorAll(".phpimenta-ui-datepicker-modal")).forEach(function(e){e.remove()})}},{key:"createGraphicalInterface",value:function(){var e=document.createElement("div");e.className="phpimenta-ui-datepicker-modal-content";var t=document.createElement("table");t.classList="phpimenta-ui-table";var a=document.createElement("caption"),n=document.createElement("div");n.classList="header-month";var r=document.createElement("button");r.innerHTML="&lsaquo;",r.classList="phpimenta-ui-datepicker-month-decrease-button",n.appendChild(r);var i=document.createElement("span");i.innerHTML=this.months[this.currentMonth],n.appendChild(i);var c=document.createElement("button");c.innerHTML="&rsaquo;",c.classList="phpimenta-ui-datepicker-month-increase-button",n.appendChild(c),a.appendChild(n);var o=document.createElement("div"),l=document.createElement("button");l.innerHTML="&lsaquo;",l.classList="phpimenta-ui-datepicker-year-decrease-button",o.appendChild(l);var d=document.createElement("span");d.innerHTML=this.currentYear,o.appendChild(d);var s=document.createElement("button");s.classList="phpimenta-ui-datepicker-year-increase-button",s.innerHTML="&rsaquo;",o.appendChild(s),o.classList="header-year",a.appendChild(o),t.appendChild(a);for(var u=document.createElement("thead"),p=document.createElement("tr"),h=0;h<=6;h++){var m=document.createElement("th");m.innerHTML=this.weekdays[h],p.appendChild(m)}u.appendChild(p),t.appendChild(u);for(var k,g=document.createElement("tbody"),f=0,v=!1,y=this.daysInMonth(this.currentYear,this.currentMonth),L=1;L<=y;L++){if(0==f&&(k=document.createElement("tr")),0==v)if(this.weekday(this.currentYear,this.currentMonth,1)==f){v=!0,L=1;var M=document.createElement("td");M.classList="phpimenta-ui-datepicker-link",1==this.currentDay&&(M.classList="current-date phpimenta-ui-datepicker-link"),M.innerHTML="01",k.appendChild(M),g.appendChild(k)}else{var E=document.createElement("td");k.appendChild(E),g.appendChild(k)}else{var b=document.createElement("td");b.classList="phpimenta-ui-datepicker-link",this.currentDay==L&&(b.classList="current-date phpimenta-ui-datepicker-link"),b.innerHTML=L.toString().padStart(2,"0"),k.appendChild(b),g.appendChild(k)}6==f?f=0:f++}t.appendChild(g),e.appendChild(t);var w=document.createElement("div");w.classList="phpimenta-ui-datepicker-modal",w.appendChild(e),document.querySelector("body").appendChild(w)}}]),e}(),datepicker=new Datepicker;datepicker.enable();