{"version":3,"sources":["../js/dropdown.js"],"names":["Dropdown","previousContentId","currentContentId","self","window","addEventListener","event","target","classList","value","contents","document","querySelectorAll","forEach","content","getElementById","id","style","display","toggles","toggle","preventDefault","stopPropagation","contentId","dataset","toggleContent","hideContent","element","getComputedStyle","getPropertyValue","undefined","dropdown","enable"],"mappings":";;;;;;;;IAAMA,Q;AACJ,sBAAc;AAAA;;AACZ,SAAKC,iBAAL;AACA,SAAKC,gBAAL;AACD;;;;6BAEQ;AAAA;;AACP,UAAIC,IAAI,GAAG,IAAX;AACAC,MAAAA,MAAM,CAACC,gBAAP,CAAwB,OAAxB,EAAiC,UAAUC,KAAV,EAAiB;AAChD,YAAIA,KAAK,CAACC,MAAN,CAAaC,SAAb,CAAuBC,KAAvB,IAAgC,uBAApC,EAA6D;AAC3D,cAAIC,QAAQ,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,gCAA1B,CAAf;AAEAF,UAAAA,QAAQ,CAACG,OAAT,CAAiB,UAAAC,OAAO,EAAI;AAC1BH,YAAAA,QAAQ,CAACI,cAAT,CAAwBD,OAAO,CAACE,EAAhC,EAAoCC,KAApC,CAA0CC,OAA1C,GAAoD,MAApD;AACD,WAFD;AAGD;AACF,OARD;AAUA,UAAIC,OAAO,GAAGR,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,CAAd;AAEAO,MAAAA,OAAO,CAACN,OAAR,CAAgB,UAAAO,MAAM,EAAI;AACxBA,QAAAA,MAAM,CAACf,gBAAP,CAAwB,OAAxB,EAAiC,UAACC,KAAD,EAAW;AAC1CA,UAAAA,KAAK,CAACe,cAAN;AACAf,UAAAA,KAAK,CAACgB,eAAN;AACA,cAAIC,SAAS,GAAGH,MAAM,CAACI,OAAP,CAAeJ,MAA/B;AACAjB,UAAAA,IAAI,CAACsB,aAAL,CAAmBF,SAAnB;AACApB,UAAAA,IAAI,CAACuB,WAAL,CAAiBH,SAAjB;AACA,UAAA,KAAI,CAACtB,iBAAL,GAAyBsB,SAAzB;AACD,SAPD;AAQD,OATD;AAUD;;;kCAEaA,S,EAAW;AACvB,UAAII,OAAO,GAAGhB,QAAQ,CAACI,cAAT,CAAwBQ,SAAxB,CAAd;AACA,UAAIL,OAAO,GAAGd,MAAM,CAACwB,gBAAP,CAAwBD,OAAxB,EAAiCE,gBAAjC,CAAkD,SAAlD,CAAd;;AACA,UAAIX,OAAO,IAAI,MAAf,EAAuB;AACrBP,QAAAA,QAAQ,CAACI,cAAT,CAAwBQ,SAAxB,EAAmCN,KAAnC,CAAyCC,OAAzC,GAAmD,OAAnD;AACA,aAAKhB,gBAAL,GAAwBqB,SAAxB;AACD,OAHD,MAGO;AACLZ,QAAAA,QAAQ,CAACI,cAAT,CAAwBQ,SAAxB,EAAmCN,KAAnC,CAAyCC,OAAzC,GAAmD,MAAnD;AACD;AACF;;;kCAEa;AACZ,UAAI,KAAKhB,gBAAL,IAAyB,KAAKD,iBAA9B,IAAmD,KAAKA,iBAAL,IAA0B6B,SAAjF,EAA4F;AAC1FnB,QAAAA,QAAQ,CAACI,cAAT,CAAwB,KAAKd,iBAA7B,EAAgDgB,KAAhD,CAAsDC,OAAtD,GAAgE,MAAhE;AACD;AACF;;;;;;AAGH,IAAIa,QAAQ,GAAG,IAAI/B,QAAJ,EAAf;AACA+B,QAAQ,CAACC,MAAT","sourcesContent":["class Dropdown {\n  constructor() {\n    this.previousContentId;\n    this.currentContentId;\n  }\n\n  enable() {\n    let self = this;\n    window.addEventListener('click', function (event) {\n      if (event.target.classList.value != 'phpimenta-ui-dropdown') {\n        let contents = document.querySelectorAll('.phpimenta-ui-dropdown-content');\n\n        contents.forEach(content => {\n          document.getElementById(content.id).style.display = 'none';\n        });\n      }\n    });\n\n    let toggles = document.querySelectorAll('.dropdown-toggle');\n\n    toggles.forEach(toggle => {\n      toggle.addEventListener('click', (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        let contentId = toggle.dataset.toggle;\n        self.toggleContent(contentId);\n        self.hideContent(contentId);\n        this.previousContentId = contentId;\n      });\n    });\n  }\n\n  toggleContent(contentId) {\n    let element = document.getElementById(contentId);\n    let display = window.getComputedStyle(element).getPropertyValue('display');\n    if (display == 'none') {\n      document.getElementById(contentId).style.display = 'block';\n      this.currentContentId = contentId;\n    } else {\n      document.getElementById(contentId).style.display = 'none';\n    }\n  }\n\n  hideContent() {\n    if (this.currentContentId != this.previousContentId && this.previousContentId != undefined) {\n      document.getElementById(this.previousContentId).style.display = 'none';\n    }\n  }\n}\n\nlet dropdown = new Dropdown();\ndropdown.enable();"],"file":"dropdown.js"}