{"version":3,"sources":["../js/dropdown.js"],"names":["Dropdown","counter","self","window","addEventListener","event","target","classList","value","split","indexOf","hideContent","dropdowns","document","querySelectorAll","forEach","dropdown","Array","from","children","toString","preventDefault","dataset","index","content","getContent","display","getComputedStyle","getPropertyValue","undefined","style","parentElement","selectedItem","item","match","activeIndex","contents","enable"],"mappings":"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","sourcesContent":["class Dropdown {\n  constructor() {\n    this.counter = 0;\n  }\n\n  enable() {\n    let self = this;\n    window.addEventListener('click', function (event) {\n      if (event.target.classList.value.split(' ').indexOf('dropdown-toggle') == -1) {\n        self.hideContent();\n      }\n    });\n    \n    let dropdowns = document.querySelectorAll('.phpimenta-ui-dropdown');\n\n    dropdowns.forEach(dropdown => {\n      Array.from(dropdown.children).forEach(children => {\n        if(children.classList.toString().split('dropdown-toggle')) {\n          children.addEventListener('click', function(event){\n            event.preventDefault();\n            self.hideContent(event.target.dataset.index);\n            let content = self.getContent(event.target);\n            let display = window.getComputedStyle(content).getPropertyValue('display');\n\n            if (event.target.dataset.index == undefined) {\n              event.target.dataset.index = self.counter;\n              content.dataset.index = self.counter;\n              self.counter++;\n            }\n\n            if (display == 'none') {\n              content.style.display = 'block';\n            } else {\n              content.style.display = 'none';\n            }\n          });\n        }\n      });\n    });\n  }\n\n  getContent(target) {\n    let dropdown = Array.from(target.parentElement.children);\n    let selectedItem = null;\n    dropdown.forEach(item => {\n      if (item.classList.toString().match(/phpimenta-ui-dropdown-content/i)) {\n        selectedItem = item;\n      }\n    });\n    return selectedItem;\n  }\n\n  hideContent(activeIndex) {\n    let contents = document.querySelectorAll('.phpimenta-ui-dropdown-content');\n    contents.forEach(content => {\n      if ( content.dataset.index != activeIndex) {\n        content.style.display = 'none';\n      }\n    });\n  }\n}\n\nlet dropdown = new Dropdown();\ndropdown.enable();"],"file":"dropdown.js"}